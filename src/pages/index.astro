---
import LetsConnect from "../components/letsConnect.astro";
import WhatsDifferent from "../components/whatsDifferent.astro";
import Banner from "../components/banner.astro";
import InfiniteCarousel from "../components/inifiniteCarousel.astro";
import OurImpact from "../components/ourImpact.astro";
import WhatWeDo from "../components/whatWeDo.astro";
import Hello from "../components/hello.astro";
import Layout from "../layouts/Layout.astro";
import FasalVideo from "../components/fasalVideo.astro";
import Footer from "../components/footer.astro";
import "./landingPage.css";
import "bootstrap/dist/css/bootstrap.css";
---

<Layout title="Welcome to Astro.">
  <Banner />
  <InfiniteCarousel />
  <section class="whats-different-section-2">
    <WhatsDifferent />
    <WhatWeDo />
    <FasalVideo />
    <OurImpact />
    <LetsConnect />
  </section>
  <Hello />
  <Footer />

  <!-- bottom navigation -->
  <nav
    class="bottom-navigation bg-green py-3 px-3 position-fixed left-0 right-0 mx-auto w-100 z-3"
  >
    <div class="container d-flex justify-content-between">
      <a
        href="#contact-form"
        class="fasal-fresh-btn text-decoration-none z-3 lh-base">Contact Us</a
      >

      <button
        class="play-btn text-white d-flex align-items-center gap-md-1 gap-2"
      >
        <svg height="40" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 71">
          <path
            d="M36.0037 65.0949C52.3024 65.0949 65.5152 51.8822 65.5152 35.5834C65.5152 19.2847 52.3024 6.07202 36.0037 6.07202C19.705 6.07202 6.49231 19.2847 6.49231 35.5834C6.49231 51.8822 19.705 65.0949 36.0037 65.0949Z"
            stroke-width="4"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
          <path
            d="M30.101 23.7809L47.8078 35.5855L30.101 47.39V23.7809Z"
            stroke-width="4"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
        <h3 class="mb-1">Watch video</h3>
      </button>
    </div>
  </nav>
</Layout>

<script>
  const wrap = document.querySelector(
    ".whats-different-section-2"
  ) as HTMLDivElement;
  const bottomNav = document.querySelector(
    ".bottom-navigation"
  ) as HTMLDivElement;
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        // console.log("The section is in view");
        bottomNav.style.transform = "translateY(-100px)";
      } else {
        // console.log("The section is not in view");
        bottomNav.style.transform = "translateY(100px)";
      }
    });
  });

  observer.observe(wrap);
</script>

<style>
  
  .fasal-video-wrp .play-btn:hover h3 {
    color: #ffe366;
  }
  .fasal-video-wrp .play-btn:hover svg {
    transition: all 300ms ease;
    stroke: #ffe366;
  }
  .fasal-video-wrp .play-btn svg {
    transition: all 300ms ease;
    stroke: white;
    width: 70px;
    fill: none;
  }
  .fasal-video-wrp .play-btn,
  .close-btn {
    background: transparent;
    border: none;
  }
  .close-btn:hover {
    stroke: #ffe366;
  }
  .close-btn {
    position: absolute;
    top: -50px;
    right: -50px;
    width: 50px;
    transition: all 300ms ease;
    stroke: #ffe366;
    fill: none;
  }

  @media (max-width: 786px) {
    .fasal-video-wrp {
      height: 280px;
      min-height: 250px;
    }
    .fasal-video-wrp .play-btn svg {
      width: 50px;
    }
    .close-btn {
      width: 50px;
    }

    .video-modal .video-wrp {
      max-width: 100%;
    }
    .close-btn {
      top: auto;
      bottom: -50px;
      right: 0;
      left: 0;
      margin: 0 auto;
    }
  }
</style>
